<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (21) on Sun Jun 01 16:26:29 AEST 2025 -->
<title>FriendsController</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="dc.created" content="2025-06-01">
<meta name="description" content="declaration: package: com.example.cab302project.controllers, class: FriendsController">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../script-dir/jquery-ui.min.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
<script type="text/javascript" src="../../../../script-dir/jquery-3.7.1.min.js"></script>
<script type="text/javascript" src="../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var pathtoroot = "../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top"><button id="navbar-toggle-button" aria-controls="navbar-top" aria-expanded="false" aria-label="Toggle navigation links"><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span></button>
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../help-doc.html#class">Help</a></li>
</ul>
<ul class="sub-nav-list-small">
<li>
<p>Summary:</p>
<ul>
<li>Nested</li>
<li><a href="#field-summary">Field</a></li>
<li><a href="#constructor-summary">Constr</a></li>
<li><a href="#method-summary">Method</a></li>
</ul>
</li>
<li>
<p>Detail:</p>
<ul>
<li><a href="#field-detail">Field</a></li>
<li><a href="#constructor-detail">Constr</a></li>
<li><a href="#method-detail">Method</a></li>
</ul>
</li>
</ul>
</div>
<div class="sub-nav">
<div id="navbar-sub-list">
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field-summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor-summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li><a href="#field-detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor-detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><a href="../../../../search.html">SEARCH</a>
<input type="text" id="search-input" disabled placeholder="Search">
<input type="reset" id="reset-button" disabled value="reset">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">com.example.cab302project.controllers</a></div>
<h1 title="Class FriendsController" class="title">Class FriendsController</h1>
</div>
<div class="inheritance" title="Inheritance Tree"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">java.lang.Object</a>
<div class="inheritance">com.example.cab302project.controllers.FriendsController</div>
</div>
<section class="class-description" id="class-description">
<hr>
<div class="type-signature"><span class="modifiers">public class </span><span class="element-name type-name-label">FriendsController</span>
<span class="extends-implements">extends <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></span></div>
<div class="block">Controller class for the Friends view of the application.
 Manages friend lists, friend requests (sending, accepting, declining, deleting),
 user search, displaying friend profiles, and interacting with an ollama AI
 to find common free time based on user and friend schedules.</div>
</section>
<section class="summary">
<ul class="summary-list">
<!-- =========== FIELD SUMMARY =========== -->
<li>
<section class="field-summary" id="field-summary">
<h2>Field Summary</h2>
<div class="caption"><span>Fields</span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Field</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><code>private javafx.scene.control.TextArea</code></div>
<div class="col-second even-row-color"><code><a href="#aiPromptField" class="member-name-link">aiPromptField</a></code></div>
<div class="col-last even-row-color">
<div class="block">TextArea where the user inputs prompts for Ollama.</div>
</div>
<div class="col-first odd-row-color"><code>private javafx.scene.control.TextArea</code></div>
<div class="col-second odd-row-color"><code><a href="#aiResponseLabel" class="member-name-link">aiResponseLabel</a></code></div>
<div class="col-last odd-row-color">
<div class="block">TextArea where the Ollama  response is displayed with a typing animation.</div>
</div>
<div class="col-first even-row-color"><code>private final javafx.collections.ObservableList<wbr>&lt;<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;</code></div>
<div class="col-second even-row-color"><code><a href="#allUsers" class="member-name-link">allUsers</a></code></div>
<div class="col-last even-row-color">
<div class="block">ObservableList holding usernames of all users in the system (excluding the current user) for search.</div>
</div>
<div class="col-first odd-row-color"><code>private javafx.scene.control.Label</code></div>
<div class="col-second odd-row-color"><code><a href="#bioLabel" class="member-name-link">bioLabel</a></code></div>
<div class="col-last odd-row-color">
<div class="block">Label displaying the bio of the currently viewed friend.</div>
</div>
<div class="col-first even-row-color"><code>private <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.sql/java/sql/Connection.html" title="class or interface in java.sql" class="external-link">Connection</a></code></div>
<div class="col-second even-row-color"><code><a href="#connection" class="member-name-link">connection</a></code></div>
<div class="col-last even-row-color">
<div class="block">The database connection instance.</div>
</div>
<div class="col-first odd-row-color"><code>private <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/time/LocalDate.html" title="class or interface in java.time" class="external-link">LocalDate</a></code></div>
<div class="col-second odd-row-color"><code><a href="#currentDate" class="member-name-link">currentDate</a></code></div>
<div class="col-last odd-row-color">
<div class="block">The current date displayed in the mini-day view sidebar.</div>
</div>
<div class="col-first even-row-color"><code>private static final <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/regex/Pattern.html" title="class or interface in java.util.regex" class="external-link">Pattern</a></code></div>
<div class="col-second even-row-color"><code><a href="#DATE_PATTERN" class="member-name-link">DATE_PATTERN</a></code></div>
<div class="col-last even-row-color">
<div class="block">Regex pattern to identify date strings in user prompts</div>
</div>
<div class="col-first odd-row-color"><code>private static final <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/time/format/DateTimeFormatter.html" title="class or interface in java.time.format" class="external-link">DateTimeFormatter</a></code></div>
<div class="col-second odd-row-color"><code><a href="#EVENT_TIME_FORMATTER" class="member-name-link">EVENT_TIME_FORMATTER</a></code></div>
<div class="col-last odd-row-color">
<div class="block">DateTimeFormatter for the standard event time format used internally and in the database ("MM/dd/yyyy HH:mm:ss").</div>
</div>
<div class="col-first even-row-color"><code>private static final <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/time/format/DateTimeFormatter.html" title="class or interface in java.time.format" class="external-link">DateTimeFormatter</a></code></div>
<div class="col-second even-row-color"><code><a href="#FLEXIBLE_DATE_FORMATTER" class="member-name-link">FLEXIBLE_DATE_FORMATTER</a></code></div>
<div class="col-last even-row-color">
<div class="block">DateTimeFormatter to parse date strings from user prompts, supporting formats like "Month Day" and "Month Day, Year".</div>
</div>
<div class="col-first odd-row-color"><code>private final javafx.collections.ObservableList<wbr>&lt;<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;</code></div>
<div class="col-second odd-row-color"><code><a href="#friendList" class="member-name-link">friendList</a></code></div>
<div class="col-last odd-row-color">
<div class="block">ObservableList holding usernames of users who are friends with the current user.</div>
</div>
<div class="col-first even-row-color"><code>private javafx.scene.control.ComboBox<wbr>&lt;<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;</code></div>
<div class="col-second even-row-color"><code><a href="#friendSelector" class="member-name-link">friendSelector</a></code></div>
<div class="col-last even-row-color">
<div class="block">ComboBox to select a friend whose profile and schedule will be viewed.</div>
</div>
<div class="col-first odd-row-color"><code>private final javafx.collections.ObservableList<wbr>&lt;<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;</code></div>
<div class="col-second odd-row-color"><code><a href="#incomingReqs" class="member-name-link">incomingReqs</a></code></div>
<div class="col-last odd-row-color">
<div class="block">ObservableList holding usernames of users who have sent a pending friend request to the current user.</div>
</div>
<div class="col-first even-row-color"><code>private javafx.scene.control.ListView<wbr>&lt;<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;</code></div>
<div class="col-second even-row-color"><code><a href="#incomingRequestsList" class="member-name-link">incomingRequestsList</a></code></div>
<div class="col-last even-row-color">
<div class="block">ListView to display the friend requests received by the current user that are still pending (incoming requests).</div>
</div>
<div class="col-first odd-row-color"><code>private <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second odd-row-color"><code><a href="#lastAIResponse" class="member-name-link">lastAIResponse</a></code></div>
<div class="col-last odd-row-color">
<div class="block">Stores the last response received from the AI assistant.</div>
</div>
<div class="col-first even-row-color"><code>private <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a><wbr>&lt;<a href="../models/Event.html" title="class in com.example.cab302project.models">Event</a>&gt;</code></div>
<div class="col-second even-row-color"><code><a href="#lastFriendEvents" class="member-name-link">lastFriendEvents</a></code></div>
<div class="col-last even-row-color">
<div class="block">Stores the list of events for the currently loaded friend from the last query prompt.</div>
</div>
<div class="col-first odd-row-color"><code>private <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/time/LocalDate.html" title="class or interface in java.time" class="external-link">LocalDate</a></code></div>
<div class="col-second odd-row-color"><code><a href="#lastQueryDate" class="member-name-link">lastQueryDate</a></code></div>
<div class="col-last odd-row-color">
<div class="block">Stores the date that was used in the last Ollama schedule query.</div>
</div>
<div class="col-first even-row-color"><code>private <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a><wbr>&lt;<a href="../models/Event.html" title="class in com.example.cab302project.models">Event</a>&gt;</code></div>
<div class="col-second even-row-color"><code><a href="#lastUserEvents" class="member-name-link">lastUserEvents</a></code></div>
<div class="col-last even-row-color">
<div class="block">Stores the list of events for the currently logged-in user from the last query prompt.</div>
</div>
<div class="col-first odd-row-color"><code>private <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second odd-row-color"><code><a href="#loadedFriendEmail" class="member-name-link">loadedFriendEmail</a></code></div>
<div class="col-last odd-row-color">
<div class="block">The email address of the friend whose profile is currently loaded and displayed.</div>
</div>
<div class="col-first even-row-color"><code>private javafx.scene.image.ImageView</code></div>
<div class="col-second even-row-color"><code><a href="#logoImage" class="member-name-link">logoImage</a></code></div>
<div class="col-last even-row-color">
<div class="block">ImageView for displaying the application logo.</div>
</div>
<div class="col-first odd-row-color"><code>private javafx.scene.layout.VBox</code></div>
<div class="col-second odd-row-color"><code><a href="#mainContent" class="member-name-link">mainContent</a></code></div>
<div class="col-last odd-row-color">
<div class="block">The main VBox container for the friends view content.</div>
</div>
<div class="col-first even-row-color"><code>private javafx.scene.layout.GridPane</code></div>
<div class="col-second even-row-color"><code><a href="#miniDayView" class="member-name-link">miniDayView</a></code></div>
<div class="col-last even-row-color">
<div class="block">GridPane used to display a mini-calendar view for the current day in the sidebar.</div>
</div>
<div class="col-first odd-row-color"><code>private javafx.scene.control.Label</code></div>
<div class="col-second odd-row-color"><code><a href="#nameLabel" class="member-name-link">nameLabel</a></code></div>
<div class="col-last odd-row-color">
<div class="block">Label displaying the email address of the currently viewed friend</div>
</div>
<div class="col-first even-row-color"><code>private static final com.fasterxml.jackson.databind.ObjectMapper</code></div>
<div class="col-second even-row-color"><code><a href="#objectMapper" class="member-name-link">objectMapper</a></code></div>
<div class="col-last even-row-color">
<div class="block">ObjectMapper instance for JSON processing, specifically for parsing Ollama API responses.</div>
</div>
<div class="col-first odd-row-color"><code>private final javafx.collections.ObservableList<wbr>&lt;<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;</code></div>
<div class="col-second odd-row-color"><code><a href="#pendingOutgoing" class="member-name-link">pendingOutgoing</a></code></div>
<div class="col-last odd-row-color">
<div class="block">ObservableList holding usernames of users to whom the current user has sent a pending friend request.</div>
</div>
<div class="col-first even-row-color"><code>private javafx.scene.control.ListView<wbr>&lt;<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;</code></div>
<div class="col-second even-row-color"><code><a href="#pendingRequestsList" class="member-name-link">pendingRequestsList</a></code></div>
<div class="col-last even-row-color">
<div class="block">ListView to display the friend requests sent by the current user that are still pending (outgoing requests).</div>
</div>
<div class="col-first odd-row-color"><code>private javafx.scene.control.Button</code></div>
<div class="col-second odd-row-color"><code><a href="#profileButton" class="member-name-link">profileButton</a></code></div>
<div class="col-last odd-row-color">
<div class="block">Button in the sidebar that shows the current user's profile name.</div>
</div>
<div class="col-first even-row-color"><code>private javafx.scene.control.Label</code></div>
<div class="col-second even-row-color"><code><a href="#profileHeaderLabel" class="member-name-link">profileHeaderLabel</a></code></div>
<div class="col-last even-row-color">
<div class="block">Label displaying the header for the currently viewed friend's profile</div>
</div>
<div class="col-first odd-row-color"><code>private javafx.scene.image.ImageView</code></div>
<div class="col-second odd-row-color"><code><a href="#profileImage" class="member-name-link">profileImage</a></code></div>
<div class="col-last odd-row-color">
<div class="block">ImageView displaying the profile picture of the currently viewed friend.</div>
</div>
<div class="col-first even-row-color"><code>private javafx.scene.control.ListView<wbr>&lt;<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;</code></div>
<div class="col-second even-row-color"><code><a href="#searchResultsList" class="member-name-link">searchResultsList</a></code></div>
<div class="col-last even-row-color">
<div class="block">ListView to display the results of searching for users.</div>
</div>
<div class="col-first odd-row-color"><code>private javafx.scene.control.TextField</code></div>
<div class="col-second odd-row-color"><code><a href="#searchUserField" class="member-name-link">searchUserField</a></code></div>
<div class="col-last odd-row-color">
<div class="block">TextField for the user to enter search queries for users.</div>
</div>
<div class="col-first even-row-color"><code>private <a href="../models/SqliteUserDAO.html" title="class in com.example.cab302project.models">SqliteUserDAO</a></code></div>
<div class="col-second even-row-color"><code><a href="#userDAO" class="member-name-link">userDAO</a></code></div>
<div class="col-last even-row-color">
<div class="block">An instance of the User Data Access Object for interacting with user data.</div>
</div>
<div class="col-first odd-row-color"><code>private javafx.scene.control.Label</code></div>
<div class="col-second odd-row-color"><code><a href="#usernameLabel" class="member-name-link">usernameLabel</a></code></div>
<div class="col-last odd-row-color">
<div class="block">Label displaying the username of the currently viewed friend.</div>
</div>
</div>
</section>
</li>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<li>
<section class="constructor-summary" id="constructor-summary">
<h2>Constructor Summary</h2>
<div class="caption"><span>Constructors</span></div>
<div class="summary-table two-column-summary">
<div class="table-header col-first">Constructor</div>
<div class="table-header col-last">Description</div>
<div class="col-constructor-name even-row-color"><code><a href="#%3Cinit%3E()" class="member-name-link">FriendsController</a>()</code></div>
<div class="col-last even-row-color">&nbsp;</div>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab4" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab4', 3)" class="table-tab">Concrete Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel" aria-labelledby="method-summary-table-tab0">
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>private <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#buildAIPrompt(java.lang.String,com.example.cab302project.models.User)" class="member-name-link">buildAIPrompt</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;userPrompt,
 <a href="../models/User.html" title="class in com.example.cab302project.models">User</a>&nbsp;currentUser)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Constructs a detailed prompt string for the AI assistant based on the user's input,
 previous conversation, and relevant schedule data (user's events, friend's events, calculated free time).</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>private <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#calculateFreeTimeSlots(java.util.List,java.util.List,java.time.LocalDate)" class="member-name-link">calculateFreeTimeSlots</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="../models/Event.html" title="class in com.example.cab302project.models">Event</a>&gt;&nbsp;userEvents,
 <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="../models/Event.html" title="class in com.example.cab302project.models">Event</a>&gt;&nbsp;friendEvents,
 <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/time/LocalDate.html" title="class or interface in java.time" class="external-link">LocalDate</a>&nbsp;date)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Helps ollama calculates potential free time slots between 7 AM and 11 PM (Typical waking hours) for a given date,
 based on the combined schedules of the user and a friend.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>private <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#callOllama(java.lang.String)" class="member-name-link">callOllama</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;prompt)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Makes an HTTP POST request to the local Ollama API endpoint to get a chat completion response.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>private <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#cleanResponse(java.lang.String)" class="member-name-link">cleanResponse</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;response)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Cleans up the AI's response string by removing potential thinking tags (`<think>...</think>`)
 and leading/trailing quotes.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>private <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#extractContent(java.lang.String)" class="member-name-link">extractContent</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;json)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Parses the JSON response string from the Ollama chat API to extract the AI's message content.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>private <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Optional.html" title="class or interface in java.util" class="external-link">Optional</a><wbr>&lt;<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/time/LocalDate.html" title="class or interface in java.time" class="external-link">LocalDate</a>&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#extractDateFromPrompt(java.lang.String)" class="member-name-link">extractDateFromPrompt</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;prompt)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Attempts to extract a date from a user prompt string using a predefined regex pattern.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>private <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#formatTimeRange(java.time.LocalDateTime,java.time.LocalDateTime)" class="member-name-link">formatTimeRange</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/time/LocalDateTime.html" title="class or interface in java.time" class="external-link">LocalDateTime</a>&nbsp;start,
 <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/time/LocalDateTime.html" title="class or interface in java.time" class="external-link">LocalDateTime</a>&nbsp;end)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Formats a time range from a start and end LocalDateTime into a "HH:mm to HH:mm" string.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>private <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getFriendEmailFromLastEvents()" class="member-name-link">getFriendEmailFromLastEvents</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Attempts to retrieve the email address of the friend from the lastFriendEvents list.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>private void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#goToHome()" class="member-name-link">goToHome</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Navigates to the calendar view (home).</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>private void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#handleAcceptRequest()" class="member-name-link">handleAcceptRequest</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Handles the action for the  Accept Request button.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>private void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#handleAIPrompt()" class="member-name-link">handleAIPrompt</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Handles the event triggered by the Ollama prompt field (e.g., hitting Enter or clicking a send button).</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>private void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#handleDeclineRequest()" class="member-name-link">handleDeclineRequest</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Handles the action for the Decline Request button.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>private void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#handleDeleteRequest()" class="member-name-link">handleDeleteRequest</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Handles the action for the Delete Request button.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>private void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#handleLogOut()" class="member-name-link">handleLogOut</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Handles the action for the Remove Friend button.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>private void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#handleRemoveFriend()" class="member-name-link">handleRemoveFriend</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Handles the action for the remove friend button.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>private void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#handleSendRequest()" class="member-name-link">handleSendRequest</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Handles the action for the Send Request button.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#initialize()" class="member-name-link">initialize</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Initializes the controller after the FXML file has been loaded.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>private boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#isCalendarRelated(java.lang.String)" class="member-name-link">isCalendarRelated</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;prompt)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Checks if a user prompt string is related to calendar or scheduling based on keywords.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>private void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#loadAllUsers()" class="member-name-link">loadAllUsers</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Loads the usernames of all users from the database into the allUsers observable list.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>private void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#loadUserProfile(java.lang.String)" class="member-name-link">loadUserProfile</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;username)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Loads and displays the profile details of a specified user
 in the profile display area.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>private void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#onLogoExit()" class="member-name-link">onLogoExit</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Resets logo scale on mouse exit.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>private void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#onLogoHover()" class="member-name-link">onLogoHover</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Enlarges the logo on mouse hover.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>private void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#openProfilePage()" class="member-name-link">openProfilePage</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Opens the user profile page and closes the current view.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>private void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#openSettingsPage()" class="member-name-link">openSettingsPage</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Opens the settings page and closes the current window.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>private void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#playTypingAnimation(javafx.scene.control.TextArea,java.lang.String)" class="member-name-link">playTypingAnimation</a><wbr>(javafx.scene.control.TextArea&nbsp;textArea,
 <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;text)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Simulates a typing animation for displaying text in a TextArea.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>private void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#refreshFriendList()" class="member-name-link">refreshFriendList</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Refreshes the list of the current user's friends by fetching data from the database
 and updating the observable list friendList.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>private void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#refreshIncomingRequests()" class="member-name-link">refreshIncomingRequests</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Refreshes the list of pending friend requests sent to the current user (incoming requests).</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>private void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#refreshOutgoingRequests()" class="member-name-link">refreshOutgoingRequests</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Refreshes the list of pending friend requests sent by the current user (outgoing requests).</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>private void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#renderMiniDayView()" class="member-name-link">renderMiniDayView</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Renders a mini sidebar view showing hourly slots for the current day.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>private void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#showAlert(java.lang.String,java.lang.String)" class="member-name-link">showAlert</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;title,
 <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;message)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Displays a standard JavaFX Alert dialog
 The dialog has a title and a main content message.</div>
</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-java.lang.Object">Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></h3>
<code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#clone()" title="class or interface in java.lang" class="external-link">clone</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)" title="class or interface in java.lang" class="external-link">equals</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#finalize()" title="class or interface in java.lang" class="external-link">finalize</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#getClass()" title="class or interface in java.lang" class="external-link">getClass</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#hashCode()" title="class or interface in java.lang" class="external-link">hashCode</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#notify()" title="class or interface in java.lang" class="external-link">notify</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#notifyAll()" title="class or interface in java.lang" class="external-link">notifyAll</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#toString()" title="class or interface in java.lang" class="external-link">toString</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#wait()" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#wait(long)" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#wait(long,int)" title="class or interface in java.lang" class="external-link">wait</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ============ FIELD DETAIL =========== -->
<li>
<section class="field-details" id="field-detail">
<h2>Field Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="mainContent">
<h3>mainContent</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">javafx.scene.layout.VBox</span>&nbsp;<span class="element-name">mainContent</span></div>
<div class="block">The main VBox container for the friends view content.</div>
</section>
</li>
<li>
<section class="detail" id="aiPromptField">
<h3>aiPromptField</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">javafx.scene.control.TextArea</span>&nbsp;<span class="element-name">aiPromptField</span></div>
<div class="block">TextArea where the user inputs prompts for Ollama.</div>
</section>
</li>
<li>
<section class="detail" id="profileButton">
<h3>profileButton</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">javafx.scene.control.Button</span>&nbsp;<span class="element-name">profileButton</span></div>
<div class="block">Button in the sidebar that shows the current user's profile name.</div>
</section>
</li>
<li>
<section class="detail" id="aiResponseLabel">
<h3>aiResponseLabel</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">javafx.scene.control.TextArea</span>&nbsp;<span class="element-name">aiResponseLabel</span></div>
<div class="block">TextArea where the Ollama  response is displayed with a typing animation.</div>
</section>
</li>
<li>
<section class="detail" id="profileHeaderLabel">
<h3>profileHeaderLabel</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">javafx.scene.control.Label</span>&nbsp;<span class="element-name">profileHeaderLabel</span></div>
<div class="block">Label displaying the header for the currently viewed friend's profile</div>
</section>
</li>
<li>
<section class="detail" id="profileImage">
<h3>profileImage</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">javafx.scene.image.ImageView</span>&nbsp;<span class="element-name">profileImage</span></div>
<div class="block">ImageView displaying the profile picture of the currently viewed friend.</div>
</section>
</li>
<li>
<section class="detail" id="usernameLabel">
<h3>usernameLabel</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">javafx.scene.control.Label</span>&nbsp;<span class="element-name">usernameLabel</span></div>
<div class="block">Label displaying the username of the currently viewed friend.</div>
</section>
</li>
<li>
<section class="detail" id="nameLabel">
<h3>nameLabel</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">javafx.scene.control.Label</span>&nbsp;<span class="element-name">nameLabel</span></div>
<div class="block">Label displaying the email address of the currently viewed friend</div>
</section>
</li>
<li>
<section class="detail" id="bioLabel">
<h3>bioLabel</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">javafx.scene.control.Label</span>&nbsp;<span class="element-name">bioLabel</span></div>
<div class="block">Label displaying the bio of the currently viewed friend.</div>
</section>
</li>
<li>
<section class="detail" id="miniDayView">
<h3>miniDayView</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">javafx.scene.layout.GridPane</span>&nbsp;<span class="element-name">miniDayView</span></div>
<div class="block">GridPane used to display a mini-calendar view for the current day in the sidebar.</div>
</section>
</li>
<li>
<section class="detail" id="logoImage">
<h3>logoImage</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">javafx.scene.image.ImageView</span>&nbsp;<span class="element-name">logoImage</span></div>
<div class="block">ImageView for displaying the application logo.</div>
</section>
</li>
<li>
<section class="detail" id="searchResultsList">
<h3>searchResultsList</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">javafx.scene.control.ListView&lt;<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;</span>&nbsp;<span class="element-name">searchResultsList</span></div>
<div class="block">ListView to display the results of searching for users.</div>
</section>
</li>
<li>
<section class="detail" id="searchUserField">
<h3>searchUserField</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">javafx.scene.control.TextField</span>&nbsp;<span class="element-name">searchUserField</span></div>
<div class="block">TextField for the user to enter search queries for users.</div>
</section>
</li>
<li>
<section class="detail" id="pendingRequestsList">
<h3>pendingRequestsList</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">javafx.scene.control.ListView&lt;<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;</span>&nbsp;<span class="element-name">pendingRequestsList</span></div>
<div class="block">ListView to display the friend requests sent by the current user that are still pending (outgoing requests).</div>
</section>
</li>
<li>
<section class="detail" id="incomingRequestsList">
<h3>incomingRequestsList</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">javafx.scene.control.ListView&lt;<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;</span>&nbsp;<span class="element-name">incomingRequestsList</span></div>
<div class="block">ListView to display the friend requests received by the current user that are still pending (incoming requests).</div>
</section>
</li>
<li>
<section class="detail" id="friendSelector">
<h3>friendSelector</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">javafx.scene.control.ComboBox&lt;<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;</span>&nbsp;<span class="element-name">friendSelector</span></div>
<div class="block">ComboBox to select a friend whose profile and schedule will be viewed.</div>
</section>
</li>
<li>
<section class="detail" id="allUsers">
<h3>allUsers</h3>
<div class="member-signature"><span class="modifiers">private final</span>&nbsp;<span class="return-type">javafx.collections.ObservableList&lt;<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;</span>&nbsp;<span class="element-name">allUsers</span></div>
<div class="block">ObservableList holding usernames of all users in the system (excluding the current user) for search.</div>
</section>
</li>
<li>
<section class="detail" id="pendingOutgoing">
<h3>pendingOutgoing</h3>
<div class="member-signature"><span class="modifiers">private final</span>&nbsp;<span class="return-type">javafx.collections.ObservableList&lt;<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;</span>&nbsp;<span class="element-name">pendingOutgoing</span></div>
<div class="block">ObservableList holding usernames of users to whom the current user has sent a pending friend request.</div>
</section>
</li>
<li>
<section class="detail" id="incomingReqs">
<h3>incomingReqs</h3>
<div class="member-signature"><span class="modifiers">private final</span>&nbsp;<span class="return-type">javafx.collections.ObservableList&lt;<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;</span>&nbsp;<span class="element-name">incomingReqs</span></div>
<div class="block">ObservableList holding usernames of users who have sent a pending friend request to the current user.</div>
</section>
</li>
<li>
<section class="detail" id="friendList">
<h3>friendList</h3>
<div class="member-signature"><span class="modifiers">private final</span>&nbsp;<span class="return-type">javafx.collections.ObservableList&lt;<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;</span>&nbsp;<span class="element-name">friendList</span></div>
<div class="block">ObservableList holding usernames of users who are friends with the current user.</div>
</section>
</li>
<li>
<section class="detail" id="lastAIResponse">
<h3>lastAIResponse</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">lastAIResponse</span></div>
<div class="block">Stores the last response received from the AI assistant. Used for conversation history.</div>
</section>
</li>
<li>
<section class="detail" id="lastUserEvents">
<h3>lastUserEvents</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="../models/Event.html" title="class in com.example.cab302project.models">Event</a>&gt;</span>&nbsp;<span class="element-name">lastUserEvents</span></div>
<div class="block">Stores the list of events for the currently logged-in user from the last query prompt.</div>
</section>
</li>
<li>
<section class="detail" id="lastFriendEvents">
<h3>lastFriendEvents</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="../models/Event.html" title="class in com.example.cab302project.models">Event</a>&gt;</span>&nbsp;<span class="element-name">lastFriendEvents</span></div>
<div class="block">Stores the list of events for the currently loaded friend from the last query prompt.</div>
</section>
</li>
<li>
<section class="detail" id="lastQueryDate">
<h3>lastQueryDate</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/time/LocalDate.html" title="class or interface in java.time" class="external-link">LocalDate</a></span>&nbsp;<span class="element-name">lastQueryDate</span></div>
<div class="block">Stores the date that was used in the last Ollama schedule query.</div>
</section>
</li>
<li>
<section class="detail" id="currentDate">
<h3>currentDate</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/time/LocalDate.html" title="class or interface in java.time" class="external-link">LocalDate</a></span>&nbsp;<span class="element-name">currentDate</span></div>
<div class="block">The current date displayed in the mini-day view sidebar.</div>
</section>
</li>
<li>
<section class="detail" id="connection">
<h3>connection</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.sql/java/sql/Connection.html" title="class or interface in java.sql" class="external-link">Connection</a></span>&nbsp;<span class="element-name">connection</span></div>
<div class="block">The database connection instance.</div>
</section>
</li>
<li>
<section class="detail" id="userDAO">
<h3>userDAO</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type"><a href="../models/SqliteUserDAO.html" title="class in com.example.cab302project.models">SqliteUserDAO</a></span>&nbsp;<span class="element-name">userDAO</span></div>
<div class="block">An instance of the User Data Access Object for interacting with user data.</div>
</section>
</li>
<li>
<section class="detail" id="loadedFriendEmail">
<h3>loadedFriendEmail</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">loadedFriendEmail</span></div>
<div class="block">The email address of the friend whose profile is currently loaded and displayed.</div>
</section>
</li>
<li>
<section class="detail" id="objectMapper">
<h3>objectMapper</h3>
<div class="member-signature"><span class="modifiers">private static final</span>&nbsp;<span class="return-type">com.fasterxml.jackson.databind.ObjectMapper</span>&nbsp;<span class="element-name">objectMapper</span></div>
<div class="block">ObjectMapper instance for JSON processing, specifically for parsing Ollama API responses.</div>
</section>
</li>
<li>
<section class="detail" id="DATE_PATTERN">
<h3>DATE_PATTERN</h3>
<div class="member-signature"><span class="modifiers">private static final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/regex/Pattern.html" title="class or interface in java.util.regex" class="external-link">Pattern</a></span>&nbsp;<span class="element-name">DATE_PATTERN</span></div>
<div class="block">Regex pattern to identify date strings in user prompts</div>
</section>
</li>
<li>
<section class="detail" id="EVENT_TIME_FORMATTER">
<h3>EVENT_TIME_FORMATTER</h3>
<div class="member-signature"><span class="modifiers">private static final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/time/format/DateTimeFormatter.html" title="class or interface in java.time.format" class="external-link">DateTimeFormatter</a></span>&nbsp;<span class="element-name">EVENT_TIME_FORMATTER</span></div>
<div class="block">DateTimeFormatter for the standard event time format used internally and in the database ("MM/dd/yyyy HH:mm:ss").</div>
</section>
</li>
<li>
<section class="detail" id="FLEXIBLE_DATE_FORMATTER">
<h3>FLEXIBLE_DATE_FORMATTER</h3>
<div class="member-signature"><span class="modifiers">private static final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/time/format/DateTimeFormatter.html" title="class or interface in java.time.format" class="external-link">DateTimeFormatter</a></span>&nbsp;<span class="element-name">FLEXIBLE_DATE_FORMATTER</span></div>
<div class="block">DateTimeFormatter to parse date strings from user prompts, supporting formats like "Month Day" and "Month Day, Year".
 Defaults the year to the current year if not explicitly provided.</div>
</section>
</li>
</ul>
</section>
</li>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<li>
<section class="constructor-details" id="constructor-detail">
<h2>Constructor Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="&lt;init&gt;()">
<h3>FriendsController</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name">FriendsController</span>()</div>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="initialize()">
<h3>initialize</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">initialize</span>()</div>
<div class="block">Initializes the controller after the FXML file has been loaded.
 Ensures a user is logged in, establishes database connection, loads UI logo,
 fetches initial data (all users, friend lists, requests) from the database,
 wire UI list view, and renders the mini-day view.</div>
</section>
</li>
<li>
<section class="detail" id="loadAllUsers()">
<h3>loadAllUsers</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">loadAllUsers</span>()</div>
<div class="block">Loads the usernames of all users from the database into the allUsers observable list.
 Excludes the currently logged-in user.</div>
</section>
</li>
<li>
<section class="detail" id="refreshFriendList()">
<h3>refreshFriendList</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">refreshFriendList</span>()</div>
<div class="block">Refreshes the list of the current user's friends by fetching data from the database
 and updating the observable list friendList.</div>
</section>
</li>
<li>
<section class="detail" id="refreshIncomingRequests()">
<h3>refreshIncomingRequests</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">refreshIncomingRequests</span>()</div>
<div class="block">Refreshes the list of pending friend requests sent to the current user (incoming requests).
 Fetches data from the database and updates the incomingReqs observable list.</div>
</section>
</li>
<li>
<section class="detail" id="refreshOutgoingRequests()">
<h3>refreshOutgoingRequests</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">refreshOutgoingRequests</span>()</div>
<div class="block">Refreshes the list of pending friend requests sent by the current user (outgoing requests).
 Fetches data directly using a SQL query, then maps receiver emails back to usernames.</div>
</section>
</li>
<li>
<section class="detail" id="loadUserProfile(java.lang.String)">
<h3>loadUserProfile</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">loadUserProfile</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;username)</span></div>
<div class="block">Loads and displays the profile details of a specified user
 in the profile display area. Fetches user data and profile image using the user DAO.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>username</code> - The username of the user whose profile should be loaded.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="handleLogOut()">
<h3>handleLogOut</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">handleLogOut</span>()</div>
<div class="block">Handles the action for the Remove Friend button.
 Removes the selected friend from the current user's friend list,
 clears the displayed profile information, and updates the UI.
 Displays a confirmation or error alert based on selection.</div>
</section>
</li>
<li>
<section class="detail" id="handleRemoveFriend()">
<h3>handleRemoveFriend</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">handleRemoveFriend</span>()</div>
<div class="block">Handles the action for the remove friend button.
 Removes the selected friends from the friends list.
 Updates the database via the user DAO and refreshes the friends list on success.</div>
</section>
</li>
<li>
<section class="detail" id="handleSendRequest()">
<h3>handleSendRequest</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">handleSendRequest</span>()</div>
<div class="block">Handles the action for the Send Request button.
 Sends a friend request to the user selected.
 Validates the selection and existing friendships/requests before sending.
 Updates the outgoing requests list on success.</div>
</section>
</li>
<li>
<section class="detail" id="handleAcceptRequest()">
<h3>handleAcceptRequest</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">handleAcceptRequest</span>()</div>
<div class="block">Handles the action for the  Accept Request button.
 Accepts the selected incoming friend request.
 Updates the database via the user DAO and refreshes the incoming requests and friend lists on success.</div>
</section>
</li>
<li>
<section class="detail" id="handleDeclineRequest()">
<h3>handleDeclineRequest</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">handleDeclineRequest</span>()</div>
<div class="block">Handles the action for the Decline Request button.
 Declines the selected incoming friend request.
 Updates the database via the user DAO and refreshes the incoming requests list on success.</div>
</section>
</li>
<li>
<section class="detail" id="handleDeleteRequest()">
<h3>handleDeleteRequest</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">handleDeleteRequest</span>()</div>
<div class="block">Handles the action for the Delete Request button.
 Deletes the selected outgoing friend request from the database.
 Updates the database directly using SQL and refreshes the outgoing requests list on success.</div>
</section>
</li>
<li>
<section class="detail" id="onLogoHover()">
<h3>onLogoHover</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">onLogoHover</span>()</div>
<div class="block">Enlarges the logo on mouse hover.</div>
</section>
</li>
<li>
<section class="detail" id="onLogoExit()">
<h3>onLogoExit</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">onLogoExit</span>()</div>
<div class="block">Resets logo scale on mouse exit.</div>
</section>
</li>
<li>
<section class="detail" id="goToHome()">
<h3>goToHome</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">goToHome</span>()</div>
<div class="block">Navigates to the calendar view (home).
 Loads the calendar-view FXML and closes the current Friends view.</div>
<dl class="notes">
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/RuntimeException.html" title="class or interface in java.lang" class="external-link">RuntimeException</a></code> - if the FXML file fails to load.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="openSettingsPage()">
<h3>openSettingsPage</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">openSettingsPage</span>()</div>
<div class="block">Opens the settings page and closes the current window.</div>
<dl class="notes">
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Exception.html" title="class or interface in java.lang" class="external-link">Exception</a></code> - if the FXML file cannot be loaded or displayed.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="openProfilePage()">
<h3>openProfilePage</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">openProfilePage</span>()</div>
<div class="block">Opens the user profile page and closes the current view.</div>
<dl class="notes">
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Exception.html" title="class or interface in java.lang" class="external-link">Exception</a></code> - if the FXML file cannot be loaded.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="handleAIPrompt()">
<h3>handleAIPrompt</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">handleAIPrompt</span>()</div>
<div class="block">Handles the event triggered by the Ollama prompt field (e.g., hitting Enter or clicking a send button).
 Retrieves the user's prompt, builds a detailed prompt including user/friend schedule data,
 calls the Ollama AI service in a background thread, and updates the AI response area with the result
 using a typing animation.
 Handles cases where no user is logged in or the Ollama API call fails.</div>
</section>
</li>
<li>
<section class="detail" id="calculateFreeTimeSlots(java.util.List,java.util.List,java.time.LocalDate)">
<h3>calculateFreeTimeSlots</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">calculateFreeTimeSlots</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="../models/Event.html" title="class in com.example.cab302project.models">Event</a>&gt;&nbsp;userEvents,
 <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="../models/Event.html" title="class in com.example.cab302project.models">Event</a>&gt;&nbsp;friendEvents,
 <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/time/LocalDate.html" title="class or interface in java.time" class="external-link">LocalDate</a>&nbsp;date)</span></div>
<div class="block">Helps ollama calculates potential free time slots between 7 AM and 11 PM (Typical waking hours) for a given date,
 based on the combined schedules of the user and a friend.
 Identifies gaps between events within the defined time window.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>userEvents</code> - A list of Event objects for the user on the target date.</dd>
<dd><code>friendEvents</code> - A list of Event objects for the friend on the target date.</dd>
<dd><code>date</code> - The LocalDate for which to calculate free time.</dd>
<dt>Returns:</dt>
<dd>A formatted string listing the free time slots, or a message if none are found.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="formatTimeRange(java.time.LocalDateTime,java.time.LocalDateTime)">
<h3>formatTimeRange</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">formatTimeRange</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/time/LocalDateTime.html" title="class or interface in java.time" class="external-link">LocalDateTime</a>&nbsp;start,
 <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/time/LocalDateTime.html" title="class or interface in java.time" class="external-link">LocalDateTime</a>&nbsp;end)</span></div>
<div class="block">Formats a time range from a start and end LocalDateTime into a "HH:mm to HH:mm" string.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>start</code> - The start LocalDateTime of the time range.</dd>
<dd><code>end</code> - The end LocalDateTime of the time range.</dd>
<dt>Returns:</dt>
<dd>A formatted string representing the time range.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getFriendEmailFromLastEvents()">
<h3>getFriendEmailFromLastEvents</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">getFriendEmailFromLastEvents</span>()</div>
<div class="block">Attempts to retrieve the email address of the friend from the lastFriendEvents list.
 This assumes all events in lastFriendEvents belong to the same friend.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>The email address of the friend whose events were last loaded, or null if the list is empty or contains no valid user.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="buildAIPrompt(java.lang.String,com.example.cab302project.models.User)">
<h3>buildAIPrompt</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">buildAIPrompt</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;userPrompt,
 <a href="../models/User.html" title="class in com.example.cab302project.models">User</a>&nbsp;currentUser)</span></div>
<div class="block">Constructs a detailed prompt string for the AI assistant based on the user's input,
 previous conversation, and relevant schedule data (user's events, friend's events, calculated free time).
 Includes system instructions for the AI.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>userPrompt</code> - The original text prompt from the user.</dd>
<dd><code>currentUser</code> - The currently logged-in User object.</dd>
<dt>Returns:</dt>
<dd>The combined prompt string formatted for the AI API.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="extractDateFromPrompt(java.lang.String)">
<h3>extractDateFromPrompt</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Optional.html" title="class or interface in java.util" class="external-link">Optional</a>&lt;<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/time/LocalDate.html" title="class or interface in java.time" class="external-link">LocalDate</a>&gt;</span>&nbsp;<span class="element-name">extractDateFromPrompt</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;prompt)</span></div>
<div class="block">Attempts to extract a date from a user prompt string using a predefined regex pattern.
 Supports month names (full or abbreviated) followed by a day, optionally with a comma and year.
 Defaults the year to the current year if not present.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>prompt</code> - The input string from the user.</dd>
<dt>Returns:</dt>
<dd>An Optional object containing the extracted LocalDate if successful, otherwise an empty Optional.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="isCalendarRelated(java.lang.String)">
<h3>isCalendarRelated</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">isCalendarRelated</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;prompt)</span></div>
<div class="block">Checks if a user prompt string is related to calendar or scheduling based on keywords.
 Used to determine if event data and free time calculations should be included in the AI prompt.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>prompt</code> - The input string from the user.</dd>
<dt>Returns:</dt>
<dd>true if the prompt contains relevant keywords, false otherwise.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="callOllama(java.lang.String)">
<h3>callOllama</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">callOllama</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;prompt)</span></div>
<div class="block">Makes an HTTP POST request to the local Ollama API endpoint to get a chat completion response.
 Sends the constructed prompt as a JSON payload.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>prompt</code> - The prompt string to send to the Ollama model.</dd>
<dt>Returns:</dt>
<dd>The response body string from the API if successful, or null if an error occurs.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="extractContent(java.lang.String)">
<h3>extractContent</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">extractContent</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;json)</span></div>
<div class="block">Parses the JSON response string from the Ollama chat API to extract the AI's message content.
 Uses Jackson ObjectMapper to navigate the JSON structure.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>json</code> - The JSON response string received from the API.</dd>
<dt>Returns:</dt>
<dd>The text content of the AI's message if found, or null if parsing fails or the content is not text.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="cleanResponse(java.lang.String)">
<h3>cleanResponse</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">cleanResponse</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;response)</span></div>
<div class="block">Cleans up the AI's response string by removing potential thinking tags (`<think>...</think>`)
 and leading/trailing quotes.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>response</code> - The raw response string from the AI.</dd>
<dt>Returns:</dt>
<dd>A cleaned string.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="playTypingAnimation(javafx.scene.control.TextArea,java.lang.String)">
<h3>playTypingAnimation</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">playTypingAnimation</span><wbr><span class="parameters">(javafx.scene.control.TextArea&nbsp;textArea,
 <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;text)</span></div>
<div class="block">Simulates a typing animation for displaying text in a TextArea.
 Updates the text character by character on the JavaFX Application Thread.
 Runs in a background thread to not block the UI.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>textArea</code> - The TextArea UI element to display the text in.</dd>
<dd><code>text</code> - The full text string to display.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="renderMiniDayView()">
<h3>renderMiniDayView</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">renderMiniDayView</span>()</div>
<div class="block">Renders a mini sidebar view showing hourly slots for the current day.
 Displays 24 rows from 00:00 to 23:00 with time labels and empty event labels.
 This is used to give a quick glance at the day's structure.</div>
</section>
</li>
<li>
<section class="detail" id="showAlert(java.lang.String,java.lang.String)">
<h3>showAlert</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">showAlert</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;title,
 <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;message)</span></div>
<div class="block">Displays a standard JavaFX Alert dialog
 The dialog has a title and a main content message.
 Pauses the application thread until the user closes the dialog.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>title</code> - The title text for the alert window.</dd>
<dd><code>message</code> - The main message content to display in the alert dialog.</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
</div>
</div>
</body>
</html>
